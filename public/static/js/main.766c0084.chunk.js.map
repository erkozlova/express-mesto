{"version":3,"sources":["images/logo.svg","components/landing/Header.js","images/editor.svg","images/plus.svg","contexts/CurrentUserContext.js","components/landing/Card.js","components/landing/Main.js","components/landing/Footer.js","components/landing/ImagePopup.js","components/landing/PopupWithForm.js","components/landing/EditProfilePopup.js","components/landing/EditAvatarPopup.js","components/landing/AddPlacePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","props","className","src","logo","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","useState","isOwn","setIsOwn","isLiked","card","likes","some","i","_id","useEffect","Object","keys","length","owner","link","name","onClick","onCardClick","type","onDeleteButtonClick","onLikeClick","Main","avatar","onEditAvatar","onEditProfile","editor","about","onAddPlace","plus","cards","map","onCardLike","onCardDelete","Footer","ImagePopup","onClose","PopupWithForm","isOpen","noValidate","onSubmit","title","children","value","submit","EditProfilePopup","setName","description","setDescription","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","onChange","target","EditAvatarPopup","inputRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","isLoading","onAddCard","api","baseUrl","headers","this","fetch","then","res","ok","json","Promise","reject","status","all","getUserData","getInitialCards","method","body","JSON","stringify","cardId","deleteLike","putLike","authorization","App","setCurrentUser","setCards","selectedCard","setSelectedCard","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddProfilePopupOpen","setAddProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddCardLoading","setIsAddCardLoading","closeAllPopups","getAppInfo","user","initialCards","catch","err","console","log","Provider","userId","changeLikeCardStatus","newCard","newCards","currCard","deleteCard","filter","setUserData","newUser","addCard","changeAvatar","newUserData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.766c0084.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\n    </header>\n  );\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/editor.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/plus.d86bb2ed.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [isOwn, setIsOwn] = React.useState(false);\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onLikeClick(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onDeleteButtonClick(props.card);\n  }\n\n  React.useEffect(() => {\n    if(Object.keys(currentUser).length) {\n      setIsOwn(props.card.owner._id === currentUser._id)\n    }\n  }, [currentUser, props.card.owner._id])\n\n  return (\n    <li className=\"elements__card\" key={props.card._id}>\n      <img className=\"elements__image\" src={props.card.link} alt={`${props.card.name}`} onClick={handleClick}/>\n      { isOwn &&  <button className=\"elements__delete\" type=\"button\" onClick={handleDeleteClick}></button> }\n      <div className=\"elements__info\">\n        <h2 className=\"elements__place\">{props.card.name}</h2>\n        <div className=\"elements__likes\">\n        <button className={`elements__like ${isLiked && 'elements__like_active'}`} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"elements__amount\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from \"react\";\nimport editor from \"../../images/editor.svg\";\nimport plus from \"../../images/plus.svg\";\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);  \n\n   return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__wrapper\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n          <div className=\"profile__avatar-edit\">\n            <button\n              className=\"profile__avatar-editor\"\n              type=\"button\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__editor\"\n              type=\"button\"\n              onClick={props.onEditProfile}\n            >\n              <img src={editor} alt=\"Кнопка редактирования\" />\n            </button>\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__addition\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        >\n          <img className=\"profile__plus\" src={plus} alt=\"Кнопка добавления\" />\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map((card) => {\n            return (<Card card={card} key={card._id} onCardClick={props.onCardClick} onLikeClick={props.onCardLike} onDeleteButtonClick={props.onCardDelete}/>);\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer(props) {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\n      </footer>\n  );\n}\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  return(\n    <section className={`popup popup_photo ${Object.keys(props.card).length!==0 && `popup_opened`}`}>\n        <div className=\"popup__wrapper\">\n          <div className=\"popup__container\">\n            <img className=\"popup__fullimage\" src={props.card.link} alt={`${props.card.name}`} />\n            <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n            <h3 className=\"popup__subtitle\">{props.card.name}</h3>\n          </div>\n        </div>\n      </section>\n  );\n}\n\nexport default ImagePopup;  ","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return( \n    <section className={`popup popup_${props.name} ${props.isOpen && `popup_opened`}`}>\n        <div className=\"popup__wrapper\">\n          <form className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\n            <h3 className=\"popup__title\">{props.title}</h3>\n            {props.children}\n            <input className=\"popup__submit\" type=\"submit\" value={props.submit} />\n            <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n          </form>\n        </div>\n      </section>\n  );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    if(Object.keys(currentUser).length) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser]);\n\n  return (<PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n  <label className=\"popup__label\">\n    <input\n      className=\"popup__input popup__input_value_name\"\n      id=\"author-name\"\n      type=\"text\"\n      name=\"name\"\n      placeholder=\"Имя\"\n      minLength=\"2\"\n      maxLength=\"40\"\n      required\n      value={name}\n      onChange={handleNameChange}\n    />\n    <span className=\"popup__error\" id=\"author-name-error\"></span>\n  </label>\n  <label className=\"popup__label\">\n    <input\n      className=\"popup__input popup__input_value_description\"\n      id=\"author-description\"\n      type=\"text\"\n      name=\"description\"\n      placeholder=\"Описание\"\n      minLength=\"2\"\n      maxLength=\"200\"\n      required\n      value={description}\n      onChange={handleDescriptionChange}\n    />\n    <span className=\"popup__error\" id=\"author-description-error\"></span>\n  </label>\n</PopupWithForm>);\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n\n  const inputRef = React.createRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  } \n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_value_avatar-link\"\n            id=\"avatar-link\"\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            required\n            ref={inputRef}\n          />\n          <span className=\"popup__error\" id=\"avatar-link-error\"></span>\n        </label>\n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleAddPlaceSubmit(evt) {\n    evt.preventDefault();\n\n    props.onAddCard({\n      name,\n      link,\n    });\n  }\n\n  React.useEffect(() => {\n    if(!props.isLoading) {\n      setName('');\n      setLink('');\n    }\n  }, [props.isLoading]);\n\n  return (<PopupWithForm name=\"add\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAddPlaceSubmit}>\n  <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_value_name\"\n            id=\"place-name\"\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Название\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            required\n            value={name}\n            onChange={handleNameChange}\n          />\n          <span className=\"popup__error\" id=\"place-name-error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_value_place-link\"\n            id=\"place-link\"\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            required\n            value={link}\n            onChange={handleLinkChange}\n          />\n          <span className=\"popup__error\" id=\"place-link-error\"></span>\n        </label>\n  </PopupWithForm>);\n}\n\nexport default AddPlacePopup;","class Api {\n  constructor({baseUrl, headers}) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  getUserData() {\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserData(), this.getInitialCards()]);\n  }\n\n  setUserData({ name, about }) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addCard({ name, link }) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    });\n  }\n\n  putLike(cardId) {\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteLike(cardId) {\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if(isLiked) {\n      return this.deleteLike(cardId);\n    } else {\n      return this.putLike(cardId);\n    }\n  }\n\n  changeAvatar(avatar) {\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16\",\n  headers: {\n    authorization: \"8ee11e57-c1af-4cd4-bd58-96d38c730efa\",\n    \"Content-type\": \"application/json\",\n  },\n});\n\nexport default api;","import React from \"react\";\nimport Header from \"./landing/Header.js\";\nimport Main from \"./landing/Main.js\";\nimport Footer from \"./landing/Footer.js\";\nimport ImagePopup from \"./landing/ImagePopup.js\";\nimport PopupWithForm from \"./landing/PopupWithForm\";\nimport EditProfilePopup from \"./landing/EditProfilePopup\";\nimport EditAvatarPopup from \"./landing/EditAvatarPopup\";\nimport AddPlacePopup from \"./landing/AddPlacePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  // Попап  редактировния профиля\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\n    false\n  );\n  // Попап добавления карточки\n  const [isAddProfilePopupOpen, setAddProfilePopupOpen] = React.useState(false);\n  // Попап редактирования аватара\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n\n  const [isAddCardLoading, setIsAddCardLoading] = React.useState(false);\n\n  // Открытие попапа редактирования\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  // Открытие попапа добавления карточки\n  function handleAddPlaceClick() {\n    setAddProfilePopupOpen(true);\n  }\n\n  // Открытие попапа редактирования\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  // Закрытие всех попапов\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  // Открытие попапа полной картинки\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  // Обновление информации о пользователе\n  function handleUpdateUser(user) {\n    api.setUserData(user)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Обновление аватара\n  function handleUpdateAvatar({ avatar }) {\n    api.changeAvatar(avatar)\n      .then((newUserData) => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Установка/снятие лайка\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((userId) => userId._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((currCard) =>\n          currCard._id === card._id ? newCard : currCard\n        );\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Удаление карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((currCard) => currCard._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Добавление карточки\n  function handleAddCard(card) {\n    setIsAddCardLoading(true);\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n        setIsAddCardLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  React.useEffect(() => {\n    api.getAppInfo()\n      .then(([user, initialCards]) => {\n        // Установка первоначальных данных о пользователе\n        setCurrentUser(user);\n\n        // Установка изначальных карточек\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        isEditProfilePopupOpen={isEditProfilePopupOpen}\n        isAddProfilePopupOpen={isAddProfilePopupOpen}\n        isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onClose={closeAllPopups}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer />\n\n      {/* Попап увеличения картинки */}\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n      {/* Попап редактирования профиля */}\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      {/* Попап добавления карточки  */}\n      <AddPlacePopup\n        isOpen={isAddProfilePopupOpen}\n        isLoading={isAddCardLoading}\n        onClose={closeAllPopups}\n        onAddCard={handleAddCard}\n      />\n\n      {/* Попап редактирования аватара  */}\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      {/* Попап удаления карточки */}\n      <PopupWithForm\n        name=\"delete\"\n        title=\"Вы уверены?\"\n        isOpen={false}\n      ></PopupWithForm>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}